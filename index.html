<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¦æ¡‘å°¼äºšæ¸¸çŒäº¤äº’å¼å‡†å¤‡æ¸…å•</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Safari Sunset -->
    <!-- Application Structure Plan: A task-oriented interactive checklist SPA. The main navigation allows users to jump between core preparation categories (Clothing, Health, Gear, Final Prep). Each category is an interactive module where users can check off items, filter by necessity ("Must-Have" vs. "Good-to-Have"), and expand items to see detailed recommendations. This structure transforms a passive guide into an active preparation tool, enhancing usability by breaking down the dense information into manageable, interactive tasks. A master progress tracker (donut chart) gamifies the experience and provides immediate feedback on completion status. -->
    <!-- Visualization & Content Choices: 
        - Info: Temperature Variation -> Goal: Explain "why" layering is needed -> Viz: Line Chart -> Interaction: Static display -> Justification: Visually communicates temperature swing more effectively than text -> Library: Chart.js.
        - Info: Entire Packing List -> Goal: Track user's preparation progress -> Viz: Interactive Checklists + Donut Chart -> Interaction: User checks items, which updates a counter and redraws the donut chart dynamically -> Justification: Turns a static list into an engaging, personalized tool. The chart provides a high-level visual summary of progress. -> Library/Method: HTML/CSS/JS for checklists, Chart.js for the donut chart.
        - Info: Item Recommendations -> Goal: Organize detailed info without cluttering the UI -> Viz: Accordion/Toggle Content -> Interaction: User clicks "View Details" to show/hide recommendation text -> Justification: Improves scannability and reduces initial information overload. -> Library/Method: HTML/CSS/JS.
        - Info: Item Necessity -> Goal: Compare "Must-Have" vs. "Good-to-Have" -> Viz: Color-coded tags + Filter buttons -> Interaction: User clicks filter buttons to isolate items by necessity level -> Justification: Allows users to focus on the most critical items first, directly addressing a key categorization from the source report. -> Library/Method: HTML/CSS/JS.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 250px;
            max-height: 300px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 300px;
                max-height: 350px;
            }
        }
        .details-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .details-content.open {
            max-height: 1000px;
        }
        .checklist-item.checked label {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .nav-item.active {
            background-color: #f59e0b;
            color: white;
        }
        .filter-btn.active {
            background-color: #10b981;
            color: white;
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">

        <header class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-emerald-800 mb-2">å¦æ¡‘å°¼äºšå®¶åº­æ¸¸çŒä¹‹æ—…</h1>
            <p class="text-xl text-stone-600">æ‚¨çš„äº¤äº’å¼å‡†å¤‡ä¸­å¿ƒ</p>
        </header>

        <section id="progress" class="mb-8 p-6 bg-white rounded-2xl shadow-lg">
            <h2 class="text-2xl font-bold text-center mb-4">å‡†å¤‡è¿›åº¦ä¸€è§ˆ</h2>
            <p class="text-center text-stone-600 mb-4">å½“æ‚¨åœ¨ä¸‹æ–¹æ¸…å•ä¸­å‹¾é€‰ç‰©å“æ—¶ï¼Œæ­¤å›¾è¡¨ä¼šå®æ—¶æ›´æ–°ï¼Œå¸®åŠ©æ‚¨è¿½è¸ªæ•´ä½“å‡†å¤‡æƒ…å†µã€‚</p>
            <div class="flex flex-col md:flex-row items-center justify-center gap-8">
                <div class="relative w-48 h-48">
                    <canvas id="progressDonutChart"></canvas>
                    <div id="progressText" class="absolute inset-0 flex items-center justify-center text-3xl font-bold text-emerald-700">0%</div>
                </div>
                <div id="summary" class="text-center md:text-left">
                    <p class="text-lg">å·²å®Œæˆ: <span id="checkedCount" class="font-bold">0</span></p>
                    <p class="text-lg">æ€»è®¡: <span id="totalCount" class="font-bold">0</span> é¡¹å¿…å¤‡ç‰©å“</p>
                    <p class="text-sm text-stone-500 mt-2">è¿™åªæ˜¯ä¸€ä¸ªå¼€å§‹ï¼è®©æˆ‘ä»¬ä¸€èµ·å®Œæˆå‡†å¤‡å§ã€‚</p>
                </div>
            </div>
        </section>

        <nav class="sticky top-0 z-10 bg-white/80 backdrop-blur-sm shadow-md rounded-full mb-8 p-2 flex items-center justify-center gap-2 md:gap-4 flex-wrap">
            <a href="#clothing" class="nav-item text-sm md:text-base font-semibold px-4 py-2 rounded-full transition duration-300 hover:bg-amber-400 hover:text-white">ğŸ‘• è¡£ç‰©å‡†å¤‡</a>
            <a href="#health" class="nav-item text-sm md:text-base font-semibold px-4 py-2 rounded-full transition duration-300 hover:bg-amber-400 hover:text-white">ğŸ’Š å¥åº·å®‰å…¨</a>
            <a href="#gear" class="nav-item text-sm md:text-base font-semibold px-4 py-2 rounded-full transition duration-300 hover:bg-amber-400 hover:text-white">ğŸ”­ å…³é”®è£…å¤‡</a>
            <a href="#documents" class="nav-item text-sm md:text-base font-semibold px-4 py-2 rounded-full transition duration-300 hover:bg-amber-400 hover:text-white">ğŸ“„ è¡Œå‰æ‰‹ç»­</a>
        </nav>
        
        <main class="space-y-8">
            <section id="clothing" class="scroll-mt-24 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold mb-4 border-b pb-2">ğŸ‘• è¡£ç‰©å‡†å¤‡</h2>
                <p class="mb-4 text-stone-600">æ­£ç¡®çš„ç€è£…æ˜¯æ¸¸çŒæˆåŠŸçš„å…³é”®ã€‚å¦æ¡‘å°¼äºšæ˜¼å¤œæ¸©å·®å¤§ï¼Œè¯·åŠ¡å¿…é‡‡ç”¨â€œæ´‹è‘±å¼â€åˆ†å±‚ç©¿æ³•ã€‚ä¸‹å›¾å±•ç¤ºäº†ä¸ƒæœˆå…¸å‹çš„æ—¥æ¸©å·®ï¼Œç›´è§‚åœ°è¯´æ˜äº†ä¸ºä½•éœ€è¦åŒæ—¶å‡†å¤‡ä¿æš–çš„æŠ“ç»’è¡£å’Œè½»è–„çš„Tæ¤ã€‚</p>
                <div class="chart-container mb-6">
                    <canvas id="tempChart"></canvas>
                </div>
                <div id="clothing-checklist-container"></div>
            </section>
            
            <section id="health" class="scroll-mt-24 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold mb-4 border-b pb-2">ğŸ’Š å¥åº·ä¸å®‰å…¨</h2>
                <p class="mb-4 text-stone-600">åœ¨åè¿œçš„éæ´²è‰åŸï¼Œâ€œé¢„é˜²èƒœäºæ²»ç–—â€æ˜¯æœ€é«˜å‡†åˆ™ã€‚è¿™é‡Œçš„æ¸…å•æ¶µç›–äº†ä»åŒ»ç–—å’¨è¯¢åˆ°é«˜æ•ˆé˜²è™«é˜²æ™’çš„å…¨éƒ¨å¿…éœ€å“ï¼Œç¡®ä¿æ‚¨çš„å®¶åº­èƒ½å¤Ÿå®‰å¿ƒäº«å—é‡æ€§ä¹‹ç¾ã€‚</p>
                <div id="health-checklist-container"></div>
            </section>
            
            <section id="gear" class="scroll-mt-24 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold mb-4 border-b pb-2">ğŸ”­ å…³é”®è£…å¤‡</h2>
                <p class="mb-4 text-stone-600">é™¤äº†è¡£ç‰©å’Œè¯å“ï¼Œä¸€äº›å…³é”®è£…å¤‡èƒ½å°†æ‚¨çš„æ¸¸çŒä½“éªŒä»â€œä¸é”™â€æå‡è‡³â€œå“è¶Šâ€ã€‚ç‰¹åˆ«æ˜¯ä¸ºäººæ‰‹ä¸€å°æœ›è¿œé•œå’Œå¯é çš„å……ç”µè®¾å¤‡ï¼Œè¿™å°†æå¤§åœ°æå‡æ‚¨å’Œå­©å­çš„æ¢ç´¢ä¹è¶£ã€‚</p>
                <div id="gear-checklist-container"></div>
            </section>
            
            <section id="documents" class="scroll-mt-24 p-6 bg-white rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold mb-4 border-b pb-2">ğŸ“„ æ–‡ä»¶ä¸æœ€ç»ˆæ ¸å¯¹</h2>
                 <p class="mb-4 text-stone-600">è¿™æ˜¯ç¡®ä¿æ‚¨é¡ºåˆ©å‡ºå…¥å¢ƒå’Œåº”å¯¹çªå‘çŠ¶å†µçš„æœ€åä¸€é“é˜²çº¿ã€‚è¯·ä»”ç»†æ ¸å¯¹æ¯ä¸€é¡¹ï¼Œå¹¶åšå¥½æ•°å­—ä¸ç‰©ç†åŒé‡å¤‡ä»½ï¼Œåšåˆ°ä¸‡æ— ä¸€å¤±ã€‚</p>
                <div id="documents-checklist-container"></div>
            </section>
        </main>
        
        <footer class="text-center mt-12 text-stone-500 text-sm">
            <p>ç¥æ‚¨å’Œå®¶äººæ‹¥æœ‰ä¸€æ®µå®‰å…¨ã€æ„‰å¿«ã€ç»ˆç”Ÿéš¾å¿˜çš„æ¸¸çŒæ—¶å…‰ï¼</p>
            <p>äº¤äº’å¼æ¸…å•ç”±AIä¸“å®¶æ ¹æ®æ‚¨çš„æŠ¥å‘Šç”Ÿæˆã€‚</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const checklistData = {
                clothing: [
                    { name: 'é•¿è¢–åŠŸèƒ½æ€§è¡¬è¡« (æ¯äºº2-3ä»¶)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> UPF 50+é˜²æ™’ï¼Œé˜²è™«ï¼Œé˜²å°˜ï¼Œä¸­æ€§è‰²ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> ExOfficio BugsAway, Royal Robbins, Columbia PFGã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Backcountry, Amazonã€‚' },
                    { name: 'é€æ°”Tæ¤/Poloè¡« (æ¯äºº3-4ä»¶)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> å¸æ¹¿æ’æ±—ï¼Œç”¨äºåˆ†å±‚ç©¿ç€ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Patagonia Capilene, The North Faceã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Dick\'s Sporting Goodsã€‚' },
                    { name: 'å¯æ‹†å¸ä¸¤æˆªå¼å¾’æ­¥è£¤ (æ¯äºº2æ¡)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> é€‚åº”æ¸©åº¦å˜åŒ–ï¼Œè½»ä¾¿å¿«å¹²ï¼Œä¸­æ€§è‰²ï¼Œé¿å…ç‰›ä»”è£¤ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> REI Co-op Sahara, Columbia Silver Ridgeã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Columbiaå®˜ç½‘ã€‚' },
                    { name: 'æŠ“ç»’å¤¹å…‹ (æ¯äºº1ä»¶)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> æŠµå¾¡æ¸…æ™¨å’Œå¤œæ™šçš„å¯’å†·ï¼Œå°¤å…¶åœ¨æ©æˆˆç½—æ©æˆˆç½—ç«å±±å£ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> The North Face Glacier, Patagonia Better Sweaterã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, The North Faceå®˜ç½‘ã€‚' },
                    { name: 'è½»ä¾¿é˜²é£/é˜²æ°´å¤¹å…‹ (æ¯äºº1ä»¶)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> æ¸…æ™¨é˜²é£ï¼Œé˜²æ„å¤–å°é›¨ï¼Œè½»ä¾¿æ˜“æºã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Marmot PreCip Eco, Patagonia Torrentshellã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Backcountryã€‚' },
                    { name: 'èˆ’é€‚çš„å¾’æ­¥é‹ (æ¯äºº1åŒ, å·²ç£¨åˆ)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> èˆ’é€‚ï¼Œæ”¯æ’‘æ€§å¥½ï¼Œä¿æŠ¤è„šéƒ¨ã€‚åŠ¡å¿…æå‰ç©¿ä¹ æƒ¯ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Merrell Moab 3, Keen Targhee IIIã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Merrellå®˜ç½‘, Zapposã€‚' },
                    { name: 'å¸æ¹¿æ’æ±—è¢œ (æ¯äºº4-5åŒ)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> ä¿æŒè¶³éƒ¨å¹²çˆ½ï¼Œé¢„é˜²èµ·æ³¡ã€‚é€‰æ‹©ç¾Šæ¯›æˆ–åˆæˆçº¤ç»´ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Darn Tough, Smartwool, REI Co-opã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Amazonã€‚' },
                    { name: 'å®½æªå¸½ (æ¯äºº1é¡¶, å¸¦æŸå¸¦)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> UPF 50+é˜²æ™’ï¼Œä¿æŠ¤é¢éƒ¨ã€è€³æœµå’Œé¢ˆéƒ¨ã€‚é˜²é£å¹èµ°ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Tilley LTM6 Airflo, Coolibarã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, å“ç‰Œå®˜ç½‘ã€‚' },
                    { name: 'å›´å·¾æˆ–é­”æœ¯å¤´å·¾ (æ¯äºº1æ¡)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> é˜²å°˜ï¼Œä¿æš–ï¼Œå¤šåŠŸèƒ½ã€‚' },
                    { name: 'è–„æ‰‹å¥—å’Œæ¯›çº¿å¸½ (æ¯äºº1å¥—)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> åº”å¯¹ç«å±±å£å’Œæ¸…æ™¨çš„ä¸¥å¯’ã€‚' },
                    { name: 'æ³³è¡£ (æ¯äºº1å¥—)', must: false, details: '<strong>ç†ç”±:</strong> å¾ˆå¤šé…’åº—å’Œè¥åœ°éƒ½æœ‰æ³³æ± ï¼Œæ˜¯åˆé—´æ”¾æ¾çš„å¥½å»å¤„ã€‚' },
                    { name: 'ä¸€å¥—ä¼‘é—²æ™šé¤æœè£…', must: false, details: '<strong>ç†ç”±:</strong> æ— éœ€æ­£è£…ï¼Œä½†åœ¨ç»“æŸä¸€å¤©é£å°˜ä»†ä»†åæ¢ä¸Šå¹²å‡€ä¾¿è£…ä¼šå¾ˆæƒ¬æ„ã€‚' },
                ],
                health: [
                    { name: 'å’¨è¯¢æ—…è¡Œé—¨è¯Š', must: true, details: '<strong>é‡è¦æç¤º:</strong> å‡ºå‘å‰6-8å‘¨å®Œæˆï¼Œè·å–æƒå¨ç–«è‹—å’Œè¯ç‰©å»ºè®®ã€‚' },
                    { name: 'å®Œæˆæ¨èç–«è‹—æ¥ç§', must: true, details: '<strong>é€šå¸¸åŒ…æ‹¬:</strong> ç”²è‚ã€ä¼¤å¯’ã€ç ´ä¼¤é£ã€‚æ ¹æ®åŒ»ç”Ÿå»ºè®®å¯èƒ½è¿˜æœ‰å…¶ä»–ã€‚' },
                    { name: 'å‡†å¤‡æŠ—ç–Ÿç–¾å¤„æ–¹è¯', must: true, details: '<strong>ç†ç”±:</strong> å¦æ¡‘å°¼äºšå¤§éƒ¨åˆ†æ¸¸çŒåŒºæœ‰ç–Ÿç–¾é£é™©ã€‚<br><strong>æ¨èè¯ç‰© (éµåŒ»å˜±):</strong> Malarone (é˜¿æ‰˜ä¼é†Œ/æ°¯èƒ)ã€‚' },
                    { name: 'æ´¾å¡ç‘ä¸(Picaridin)é©±èšŠæ¶²', must: true, details: '<strong>æ ¸å¿ƒä¼˜åŠ¿:</strong> é«˜æ•ˆé˜²èšŠé˜²è‡ï¼Œä¸”ä¸æŸä¼¤å¡‘æ–™æˆ–åˆæˆçº¤ç»´è£…å¤‡ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Sawyer Picaridin Lotion/Sprayã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Amazon, Walmartã€‚' },
                    { name: 'æ°¯èŠé…¯(Permethrin)è¡£ç‰©å–·é›¾', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> å‡ºå‘å‰å¤„ç†å¤–è¡£ï¼Œå½¢æˆæœ€å¼ºé˜²è™«å±éšœï¼Œå¯¹é‡‡é‡‡è‡å°¤å…¶æœ‰æ•ˆã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Sawyer Permethrin for Clothingã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> REI, Amazonã€‚' },
                    { name: 'å¹¿è°±é˜²æ™’éœœ (SPF 30-50+)', must: true, details: '<strong>æ ¸å¿ƒåŠŸèƒ½:</strong> é˜²æŠ¤å¼ºçƒˆçš„èµ¤é“ç´«å¤–çº¿ã€‚<br><strong>æ¨èå“ç‰Œ:</strong> La Roche-Posay, Badger, Neutrogenaã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> Target, CVS, Amazonã€‚' },
                    { name: 'SPFé˜²æ™’å”‡è†', must: true, details: '<strong>ç†ç”±:</strong> å˜´å”‡ä¹Ÿææ˜“æ™’ä¼¤ã€‚' },
                    { name: 'é…ç½®å®¶åº­æ€¥æ•‘åŒ…', must: true, details: '<strong>å†…å®¹åº”åŒ…æ‹¬:</strong> åˆ›å¯è´´ã€æ¶ˆæ¯’æ¹¿å·¾ã€æŠ—ç”Ÿç´ è½¯è†ã€çº±å¸ƒã€æ°´æ³¡è´´ã€æ­¢ç—›è¯ã€æŠ—è¿‡æ•è¯ã€æ™•è½¦è¯ã€æ­¢æ³»è¯ã€å¯çš„æ¾ä¹³è†ã€æ¶¦å–‰ç³–ã€‚' },
                    { name: 'ä¸ªäººå¤„æ–¹è¯ (è¶³é‡)', must: true, details: '<strong>é‡è¦æç¤º:</strong> æºå¸¦è¶³å¤Ÿæ•´ä¸ªè¡Œç¨‹å¤–åŠ å‡ å¤©çš„å¤‡ç”¨é‡ï¼Œå¹¶ä¿å­˜åœ¨åŸå§‹åŒ…è£…ä¸­ï¼Œé™„ä¸ŠåŒ»ç”Ÿå¤„æ–¹å¤å°ä»¶ã€‚' },
                ],
                gear: [
                    { name: 'æœ›è¿œé•œ (å»ºè®®æ¯äºº1å°)', must: true, details: '<strong>æ ¸å¿ƒå»ºè®®:</strong> äººæ‰‹ä¸€å°èƒ½æå¤§æå‡å­©å­å‚ä¸æ„Ÿã€‚<strong>æ¨èè§„æ ¼:</strong> 8x42æˆ–10x42ã€‚<br><strong>æ¨èå‹å·:</strong> Vortex Diamondback HD (æä¾›ç»ˆèº«æ— æ¡ä»¶ä¿ä¿®)ã€‚<br><strong>è´­ä¹°æ¸ é“:</strong> B&H Photo, Adorama, Amazonã€‚' },
                    { name: 'ç›¸æœº (å¸¦é•¿ç„¦åŠŸèƒ½)', must: true, details: '<strong>æ¨èç±»å‹:</strong> æ¡¥å¼é•¿ç„¦ç›¸æœº (å¦‚Nikon P950, Sony RX10 IV)ï¼Œæ— éœ€æ¢é•œå¤´ï¼Œä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆã€‚' },
                    { name: 'ç›¸æœºå¤‡ç”¨ç”µæ± å’Œå­˜å‚¨å¡', must: true, details: '<strong>å»ºè®®:</strong> è‡³å°‘2å—å¤‡ç”¨ç”µæ± ï¼Œå¤šå¼ å¤§å®¹é‡å­˜å‚¨å¡ (64GB+)ã€‚' },
                    { name: 'G/Då‹æ’å¤´è½¬æ¢å™¨', must: true, details: '<strong>ç†ç”±:</strong> é€‚é…å¦æ¡‘å°¼äºšå½“åœ°æ’åº§ã€‚æ‚¨çš„ç”µå­è®¾å¤‡å……ç”µå™¨é€šå¸¸æ˜¯å®½ç”µå‹ï¼Œæ— éœ€å˜å‹å™¨ã€‚' },
                    { name: 'å¤§å®¹é‡ç§»åŠ¨ç”µæº (20,000mAh+)', must: true, details: '<strong>ç”¨é€”:</strong> ä½œä¸ºå®¶åº­ç”µåŠ›å‚¨å¤‡ï¼Œåœ¨è¥åœ°é›†ä¸­å……ç”µã€‚<br><strong>æ¨èå“ç‰Œ:</strong> Anker PowerCore 20100ã€‚' },
                    { name: 'å¤šå£USBå……ç”µå™¨', must: true, details: '<strong>ç”¨é€”:</strong> åœ¨æœ‰é™çš„æ’åº§ä¸ŠåŒæ—¶ä¸ºå¤šä¸ªè®¾å¤‡å……ç”µï¼Œæé«˜æ•ˆç‡ã€‚' },
                    { name: 'å¤´ç¯æˆ–æ‰‹ç”µç­’ (æ¯äºº1ä¸ª)', must: true, details: '<strong>ç†ç”±:</strong> è¥åœ°å¤œé—´ç…§æ˜æœ‰é™ï¼Œå¤´ç¯å¯è§£æ”¾åŒæ‰‹ã€‚' },
                    { name: 'ä¸ªäººæ—¥ç”¨èƒŒåŒ… (æ¯äºº1ä¸ª)', must: true, details: '<strong>ç”¨é€”:</strong> åœ¨æ¸¸çŒè½¦ä¸Šæºå¸¦æ°´ã€é›¶é£Ÿã€ç›¸æœºã€æœ›è¿œé•œç­‰å½“æ—¥å¿…éœ€å“ã€‚' },
                    { name: 'é‡ç”ŸåŠ¨ç‰©å›¾é‰´', must: false, details: '<strong>å¯¹å­©å­çš„å¥½å¤„:</strong> å°†è¢«åŠ¨è§‚å¯Ÿå˜ä¸ºä¸»åŠ¨æ¢ç´¢ï¼Œå¢åŠ å‚ä¸æ„Ÿã€‚<br><strong>æ¨èä¹¦ç±:</strong> "A Field Guide to the Larger Mammals of Tanzania" (æ™®æ—æ–¯é¡¿å¤§å­¦å‡ºç‰ˆç¤¾)ã€‚' },
                    { name: 'æ¸¸çŒæ—¥å¿—/æ´»åŠ¨æ‰‹å†Œ', must: false, details: '<strong>å¯¹å­©å­çš„å¥½å¤„:</strong> è®°å½•æ—…è¡Œç‚¹æ»´ï¼Œå¡«è¡¥è·¯é€”é—²æš‡æ—¶å…‰ã€‚' },
                    { name: 'å¯é‡å¤ä½¿ç”¨çš„æ°´ç“¶', must: false, details: '<strong>ç†ç”±:</strong> ç¯ä¿ï¼Œå¤šæ•°æ¸¸çŒå…¬å¸æä¾›å¤§æ¡¶è£…æ°´ä¾›ç»­æ¯ã€‚' },
                ],
                documents: [
                    { name: 'æ£€æŸ¥å…¨å®¶æŠ¤ç…§æœ‰æ•ˆæœŸ (>6ä¸ªæœˆ)', must: true, details: '<strong>è¦æ±‚:</strong> è‡ªå…¥å¢ƒä¹‹æ—¥èµ·ï¼Œæœ‰æ•ˆæœŸå¿…é¡»è‡³å°‘è¿˜æœ‰6ä¸ªæœˆï¼Œä¸”è‡³å°‘æœ‰1é¡µç©ºç™½é¡µã€‚' },
                    { name: 'åœ¨çº¿ç”³è¯·å¦æ¡‘å°¼äºšç”µå­ç­¾è¯', must: true, details: '<strong>è´¹ç”¨ (ç¾å›½å…¬æ°‘):</strong> $100/äºº (ä¸€å¹´å¤šæ¬¡)ã€‚<br><strong>å»ºè®®:</strong> æå‰2-3å‘¨é€šè¿‡å®˜æ–¹e-visaç½‘ç«™ç”³è¯·ï¼Œé¿å…è½åœ°ç­¾æ’é˜Ÿã€‚' },
                    { name: 'è´­ä¹°ç»¼åˆæ—…è¡Œä¿é™©', must: true, details: '<strong>æ ¸å¿ƒä¿éšœ:</strong> ç´§æ€¥åŒ»ç–—è¿é€ (ä¿é¢è‡³å°‘$25ä¸‡)ã€ç´§æ€¥åŒ»ç–—è´¹ç”¨ã€è¡Œç¨‹å–æ¶ˆ/ä¸­æ–­ã€è¡Œæå»¶è¯¯/ä¸¢å¤±ã€‚<br><strong>æ¯”ä»·ç½‘ç«™:</strong> Squaremouthã€‚' },
                    { name: "å‡†å¤‡æ–°ç‰ˆç¾å…ƒç°é’ (2006å¹´å)", must: true, details: '<strong>ç”¨é€”:</strong> æ”¯ä»˜å°è´¹ç­‰ã€‚å¿…é¡»æ˜¯ç¥¨é¢å´­æ–°ã€æ— æŠ˜ç—•ã€æ— æ±¡æŸçš„ç°é’ã€‚' },
                    { name: 'å¤‡ä»½æ‰€æœ‰é‡è¦æ–‡ä»¶ (ç‰©ç†+æ•°å­—)', must: true, details: '<strong>æ–‡ä»¶æ¸…å•:</strong> æŠ¤ç…§ã€ç­¾è¯æ‰¹å‡†å‡½ã€æœºç¥¨ã€ä¿é™©å•ã€‚<br><strong>å¤‡ä»½ç­–ç•¥:</strong> å¤å°ä»¶+æ‰‹æœºæ‹ç…§+ä¸Šä¼ äº‘ç«¯ã€‚' },
                    { name: 'é€šçŸ¥ä¿¡ç”¨å¡/é“¶è¡Œå¡å…¬å¸æ—…è¡Œè®¡åˆ’', must: true, details: '<strong>ç†ç”±:</strong> é˜²æ­¢æ‚¨çš„é“¶è¡Œå¡åœ¨å¢ƒå¤–ä½¿ç”¨æ—¶è¢«é£æ§å†»ç»“ã€‚' },
                ]
            };
            
            let progressDonutChart, tempChart;
            const checkedState = {};

            function renderChecklists() {
                Object.keys(checklistData).forEach(category => {
                    const container = document.getElementById(`${category}-checklist-container`);
                    if (!container) return;

                    const filters = `
                        <div class="flex items-center gap-2 mb-4 flex-wrap" data-category="${category}">
                            <button class="filter-btn active text-sm px-3 py-1 rounded-full border border-gray-300 transition" data-filter="all">å…¨éƒ¨</button>
                            <button class="filter-btn text-sm px-3 py-1 rounded-full border border-gray-300 transition" data-filter="must">ä»…çœ‹å¿…å¤‡</button>
                            <button class="filter-btn text-sm px-3 py-1 rounded-full border border-gray-300 transition" data-filter="optional">ä»…çœ‹å»ºè®®</button>
                        </div>
                    `;

                    const itemsHtml = checklistData[category].map((item, index) => {
                        const itemId = `${category}-${index}`;
                        return `
                            <li class="checklist-item py-3 border-b border-stone-200" data-must="${item.must}">
                                <div class="flex items-start justify-between">
                                    <div class="flex items-start">
                                        <input type="checkbox" id="${itemId}" class="mt-1.5 h-5 w-5 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500" data-item-id="${itemId}" data-must="${item.must}">
                                        <label for="${itemId}" class="ml-3 text-lg text-stone-700">${item.name}</label>
                                    </div>
                                    <button class="details-toggle text-sm font-semibold text-emerald-600 hover:text-emerald-800 transition p-1">è¯¦æƒ… â–¼</button>
                                </div>
                                <div class="details-content ml-8 mt-2 text-stone-600 bg-stone-50 p-4 rounded-lg">
                                    ${item.details}
                                </div>
                            </li>
                        `;
                    }).join('');
                    
                    container.innerHTML = filters + `<ul class="space-y-2">${itemsHtml}</ul>`;
                });
            }

            function setupEventListeners() {
                document.querySelector('.container').addEventListener('click', function(e) {
                    if (e.target.matches('input[type="checkbox"]')) {
                        const itemId = e.target.dataset.itemId;
                        checkedState[itemId] = e.target.checked;
                        e.target.closest('li').classList.toggle('checked', e.target.checked);
                        updateProgress();
                    }
                    if (e.target.matches('.details-toggle')) {
                        e.preventDefault();
                        const content = e.target.closest('li').querySelector('.details-content');
                        content.classList.toggle('open');
                        e.target.textContent = content.classList.contains('open') ? 'æ”¶èµ· â–²' : 'è¯¦æƒ… â–¼';
                    }
                    if (e.target.matches('.filter-btn')) {
                        const category = e.target.parentElement.dataset.category;
                        const filter = e.target.dataset.filter;
                        
                        e.target.parentElement.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');

                        const container = document.getElementById(`${category}-checklist-container`);
                        container.querySelectorAll('.checklist-item').forEach(item => {
                            if (filter === 'all') {
                                item.style.display = '';
                            } else if (filter === 'must') {
                                item.style.display = item.dataset.must === 'true' ? '' : 'none';
                            } else if (filter === 'optional') {
                                item.style.display = item.dataset.must === 'false' ? '' : 'none';
                            }
                        });
                    }
                });
            }

            function getTotalMustHaveItems() {
                let total = 0;
                Object.values(checklistData).flat().forEach(item => {
                    if (item.must) total++;
                });
                return total;
            }

            function updateProgress() {
                const totalMustItems = getTotalMustHaveItems();
                let checkedMustItems = 0;
                document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                    if (checkbox.dataset.must === 'true') {
                        checkedMustItems++;
                    }
                });

                const percentage = totalMustItems > 0 ? Math.round((checkedMustItems / totalMustItems) * 100) : 0;
                
                document.getElementById('progressText').textContent = `${percentage}%`;
                document.getElementById('checkedCount').textContent = checkedMustItems;
                document.getElementById('totalCount').textContent = totalMustItems;

                progressDonutChart.data.datasets[0].data = [checkedMustItems, totalMustItems - checkedMustItems];
                progressDonutChart.update();
            }

            function createCharts() {
                const progressCtx = document.getElementById('progressDonutChart').getContext('2d');
                progressDonutChart = new Chart(progressCtx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [0, getTotalMustHaveItems()],
                            backgroundColor: ['#10b981', '#e5e7eb'],
                            borderColor: ['#ffffff', '#ffffff'],
                            borderWidth: 4,
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        cutout: '80%',
                        plugins: {
                            legend: { display: false },
                            tooltip: { enabled: false }
                        }
                    }
                });

                const tempCtx = document.getElementById('tempChart').getContext('2d');
                tempChart = new Chart(tempCtx, {
                    type: 'line',
                    data: {
                        labels: ['æ¸…æ™¨ 6 AM', 'ä¸Šåˆ 10 AM', 'åˆå 2 PM', 'å‚æ™š 6 PM', 'å¤œæ™š 10 PM'],
                        datasets: [{
                            label: 'é¢„è®¡æ¸©åº¦ (Â°C)',
                            data: [11, 18, 26, 22, 15],
                            fill: true,
                            borderColor: 'rgb(245, 158, 11)',
                            backgroundColor: 'rgba(245, 158, 11, 0.2)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: false,
                                title: {
                                    display: true,
                                    text: 'æ¸©åº¦ (Â°C)'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top',
                            },
                            tooltip: {
                                mode: 'index',
                                intersect: false,
                            }
                        }
                    }
                });
            }

            function initNavObserver() {
                const navItems = document.querySelectorAll('.nav-item');
                const sections = document.querySelectorAll('main section');

                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            navItems.forEach(nav => {
                                nav.classList.toggle('active', nav.getAttribute('href').slice(1) === entry.target.id);
                            });
                        }
                    });
                }, { rootMargin: "-50% 0px -50% 0px" });

                sections.forEach(section => observer.observe(section));
            }
            
            renderChecklists();
            setupEventListeners();
            createCharts();
            updateProgress();
            initNavObserver();
        });
    </script>
</body>
</html>
